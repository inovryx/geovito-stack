---
import { translate } from '../lib/uiLanguage';

interface Props {
  status: 'fallback' | 'runtime' | 'mock';
  language: string;
  canonicalPath: string;
  contentStatus?: 'missing' | 'draft' | 'complete' | null;
  ui: Record<string, unknown>;
}

const { status, language, canonicalPath, contentStatus = null, ui } = Astro.props;
---

{
  status === 'mock' ? (
    <aside class="state-banner mock">
      <strong class="state-badge">MOCK</strong>
      <span>{translate(ui, 'stateBanner.mock')}</span>
    </aside>
  ) : status === 'runtime' ? (
    <aside class="state-banner runtime">
      <strong class="state-badge">RUNTIME</strong>
      <span>{translate(ui, 'stateBanner.runtime')}</span>
      <a href={canonicalPath}>{translate(ui, 'stateBanner.canonicalLink')}</a>
    </aside>
  ) : (
    <aside class="state-banner fallback">
      <strong class="state-badge">FALLBACK</strong>
      <span>{translate(ui, 'stateBanner.incomplete', { language, state: contentStatus || 'missing' })}</span>
      <a href={canonicalPath}>{translate(ui, 'stateBanner.canonicalLink')}</a>
    </aside>
  )
}
